<!-- ?xml version='1.0' encoding='UTF-8'? -->
<link href="/github-markdown-css/github-css.css" rel="stylesheet"/>
<meta charset="utf-8" content="text/html"/>
<div class="gist">
<style class="formula-style">
        svg.gh-md-to-html-formula {
            fill: black;
        }
    </style>
<div class="gist-file"> <!-- This is the class that is responsible for the boxing! -->
<div class="gist-data">
<div class="js-gist-file-update-container js-task-list-container file-box">
<div class="file" id="user-content-article-ps01_cytoscape_basics">
<div class="Box-body readme blob js-code-block-container p-5 p-xl-6" id="user-content-file-docker-image-pull-md-readme" style="margin-left: 40px; margin-right: 40px; margin-top: 20px; margin-bottom: 20px">
<article class="markdown-body entry-content container-lg" itemprop="text">
<h1 id="user-content-practice-session-01-cytoscape-basics">
<a aria-hidden="true" class="anchor" href="#user-content-practice-session-01-cytoscape-basics" id="user-content-practice-session-01-cytoscape-basics" name="user-content-practice-session-01-cytoscape-basics"><span aria-hidden="true" class="octicon octicon-link"></span></a>Practice Session 01: Cytoscape Basics</h1>
<h2 id="user-content-contents-of-this-session">
<a aria-hidden="true" class="anchor" href="#user-content-contents-of-this-session" id="user-content-contents-of-this-session" name="user-content-contents-of-this-session"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contents of this session</h2>
<ol start="0">
<li>About Cytoscape</li>
<li>Importing a network</li>
<li>Editing nodes and edge styles</li>
<li>Performing basic network analysis</li>
<li>Using a Cytoscape app (ClusterMaker2)</li>
</ol>
<h3 id="user-content-datasets-for-this-session">
<a aria-hidden="true" class="anchor" href="#user-content-datasets-for-this-session" id="user-content-datasets-for-this-session" name="user-content-datasets-for-this-session"><span aria-hidden="true" class="octicon octicon-link"></span></a>Datasets for this session</h3>
<ul>
<li>File <a href="datasets/karate.gml">karate.gml</a>
</li>
<li>File <a href="datasets/starwars.graphml">starwars.graphml</a>
</li>
<li>File <a href="datasets/us_companies_ownership.csv">us_companies_ownership.csv</a>
</li>
</ul>
<h1 id="user-content-0-about-cytoscape">
<a aria-hidden="true" class="anchor" href="#user-content-0-about-cytoscape" id="user-content-0-about-cytoscape" name="user-content-0-about-cytoscape"><span aria-hidden="true" class="octicon octicon-link"></span></a>0. About Cytoscape</h1>
<p><a href="http://www.cytoscape.org/" rel="nofollow">Cytoscape</a> is an open source software platform for visualizing complex networks and integrating these with any type of attribute data.</p>
<p>You can look up the user manual at <a href="https://manual.cytoscape.org/en/stable" rel="nofollow">https://manual.cytoscape.org/en/stable</a>.</p>
<p>⚠️ It is recomended to save your work in a session file (*.cys).</p>
<h1 id="user-content-1-importing-a-network">
<a aria-hidden="true" class="anchor" href="#user-content-1-importing-a-network" id="user-content-1-importing-a-network" name="user-content-1-importing-a-network"><span aria-hidden="true" class="octicon octicon-link"></span></a>1. Importing a network</h1>
<h3 id="user-content-import-zacharys-karate-club-network">
<a aria-hidden="true" class="anchor" href="#user-content-import-zacharys-karate-club-network" id="user-content-import-zacharys-karate-club-network" name="user-content-import-zacharys-karate-club-network"><span aria-hidden="true" class="octicon octicon-link"></span></a>Import Zachary's karate club network</h3>
<p>Let's start with a simple case: <a href="https://en.wikipedia.org/wiki/Zachary%27s_karate_club" rel="nofollow">Zachary's Karate Club</a>. This was a Karate Club with a sensei (#1) and a club president (#34) that split into two: some people remained with the sensei, and the others created a new club with the club president.</p>
<p>It should be treated as an undirected newtwork.</p>
<ul>
<li><code>File &gt; Import &gt; Network from File ...</code></li>
<li>Select <code>karate.gml</code>
</li>
<li><code>Layout &gt; Compound Spring Embedder</code></li>
<li>Look at the graph and try to figure out if there is anything special about nodes 1 and 34.</li>
<li>[<strong>REPORT</strong>] Include in your report this graph plus and a brief paragraph indicating whether nodes 1 and 34 have visually anything special.</li>
<li>[<strong>REPORT</strong>] The Compound Spring Embedder is an algorithm derived from force-directed graph layour algorithms. Read the Wikipedia page on <a href="https://en.wikipedia.org/wiki/Force-directed_graph_drawing" rel="nofollow">force-directed graph drawing</a> and explain in one paragraph, in your own words, how this works.</li>
</ul>
<p>⚠️ Do not use screenshots to catch images for the report; use <code>File &gt; Export as image</code></p>
<h3 id="user-content-import-the-star-wars-characters-network">
<a aria-hidden="true" class="anchor" href="#user-content-import-the-star-wars-characters-network" id="user-content-import-the-star-wars-characters-network" name="user-content-import-the-star-wars-characters-network"><span aria-hidden="true" class="octicon octicon-link"></span></a>Import the Star Wars characters network</h3>
<p>Compilation of haracters that appears in a Star Wars movie. The <em>scene</em> attribute (column in Table View) means the number of scenes the characters share or in which they are mentioned.</p>
<p>It should be treated as an undirected newtwork.</p>
<ul>
<li><code>File &gt; Import &gt; Network from File ...</code></li>
<li>Select <code>starwars.graphml</code>
</li>
<li>If asked, select <em>shared name</em> for the node identifier column. This will transform node identifiers into a column named "shared name" internally.</li>
<li><code>Layout &gt; Prefuse Force Directed Layout &gt; All nodes &gt; scenes</code></li>
<li>Find nodes with degree larger than <em>D=30</em>. Use the Filter Panel (in Control Panel). Check the effect of the <code>select/show</code> selection (at bottom) on the graph view.</li>
<li>Create an annotation indicating a character having a degree larger than <em>D</em>: on the graph, right click on blank space -&gt; add text; modify the text in Annotation Panel (in Control Panel); then right click on the text -&gt; add arrow.</li>
<li>[<strong>REPORT</strong>] Include this graph in your report.</li>
<li>[<strong>REPORT</strong>] Include a list of the characters represented by nodes with degree larger than <em>D</em> (shared name, name, and number of scenes) and brief commentary of what kind of characters they are.</li>
</ul>
<h3 id="user-content-import-us-companies-ownership-network">
<a aria-hidden="true" class="anchor" href="#user-content-import-us-companies-ownership-network" id="user-content-import-us-companies-ownership-network" name="user-content-import-us-companies-ownership-network"><span aria-hidden="true" class="octicon octicon-link"></span></a>Import US companies ownership network</h3>
<p>Network representing company co-ownership in the US.</p>
<p>It can be treated either as a directed or undirected newtwork.</p>
<ul>
<li><code>File &gt; Import &gt; Network from File ...</code></li>
<li>Select <code>us_companies_ownership.csv</code>
</li>
<li>Click <code>OK</code> and accept default import (it might take a couple of minutes)</li>
<li>
<code>Layout &gt; Edge Weighted Spring Embedder</code> (<g-emoji alias="warning" class="g-emoji" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png">⚠️</g-emoji> it might take 10-20 minutes)</li>
<li>[<strong>REPORT</strong>] Include in your report this graph.</li>
<li>[<strong>REPORT</strong>] Do you see more than one connected component? What do connected components represent in this graph?</li>
<li>[<strong>REPORT</strong>] Include a brief commentary on large-degree nodes in this graph, which are they? What do those nodes represent?</li>
</ul>
<h1 id="user-content-2-editing-node-and-edge-styles">
<a aria-hidden="true" class="anchor" href="#user-content-2-editing-node-and-edge-styles" id="user-content-2-editing-node-and-edge-styles" name="user-content-2-editing-node-and-edge-styles"><span aria-hidden="true" class="octicon octicon-link"></span></a>2. Editing node and edge styles</h1>
<p>In Control Panel, <ins>select Karate Club network</ins>, then, select Style tab and play with the Style Panel. Here are some ideas.</p>
<p><em>Note: Changing style properties of a given style (e.g., default) applies (if supported) to all the networks using such style in the current session.</em></p>
<h3 id="user-content-change-the-style-of-the-entire-network">
<a aria-hidden="true" class="anchor" href="#user-content-change-the-style-of-the-entire-network" id="user-content-change-the-style-of-the-entire-network" name="user-content-change-the-style-of-the-entire-network"><span aria-hidden="true" class="octicon octicon-link"></span></a>Change the style of the entire network</h3>
<ul>
<li><code>Select Network tab</code></li>
<li>Play with predefined styles, e.g., "Minimal", "Curved", "Directed", or others.</li>
</ul>
<h3 id="user-content-name-nodes">
<a aria-hidden="true" class="anchor" href="#user-content-name-nodes" id="user-content-name-nodes" name="user-content-name-nodes"><span aria-hidden="true" class="octicon octicon-link"></span></a>Name nodes</h3>
<ul>
<li><code>Select Node tab</code></li>
<li>Deploy the "Label" property, create a "Passthrough mapping", and choose a couple of nodes to write a name for them in its attribute "name"</li>
<li>You can keep the new names or remove the mapping (trash can icon)</li>
</ul>
<h3 id="user-content-change-the-shape-of-the-nodes">
<a aria-hidden="true" class="anchor" href="#user-content-change-the-shape-of-the-nodes" id="user-content-change-the-shape-of-the-nodes" name="user-content-change-the-shape-of-the-nodes"><span aria-hidden="true" class="octicon octicon-link"></span></a>Change the shape of the nodes</h3>
<ul>
<li>Click on the column "Def." (to the left) of the "Shape" property and choose another shape</li>
</ul>
<h3 id="user-content-add-arrows">
<a aria-hidden="true" class="anchor" href="#user-content-add-arrows" id="user-content-add-arrows" name="user-content-add-arrows"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add arrows</h3>
<p>To add arrows, you need a directed graph. <ins>Select the US Company Ownership network</ins>.</p>
<ul>
<li>Change the setting of "Target Arrow Shape".</li>
</ul>
<h3 id="user-content-change-the-edge-width-edge-width-mapping">
<a aria-hidden="true" class="anchor" href="#user-content-change-the-edge-width-edge-width-mapping" id="user-content-change-the-edge-width-edge-width-mapping" name="user-content-change-the-edge-width-edge-width-mapping"><span aria-hidden="true" class="octicon octicon-link"></span></a>Change the edge width (edge width mapping)</h3>
<p>In Control Panel, <ins>select Star Wars network</ins>, then, select Style tab.</p>
<ul>
<li>Select the node with name "DART VADER" and move it out of the nodes cloud</li>
<li><code>Select Edge tab</code></li>
<li>Deploy "Width" property (or press "Map." button)</li>
<li>Assign Column = scenes</li>
<li>Change Mapping Type = Continuous Mapping (if already assigned, reassign)</li>
<li>Click and edit the "Current Mapping" function and broad the range of values to get a clearer visual separation between thin and thick edges</li>
</ul>
<h3 id="user-content-change-the-entire-layout">
<a aria-hidden="true" class="anchor" href="#user-content-change-the-entire-layout" id="user-content-change-the-entire-layout" name="user-content-change-the-entire-layout"><span aria-hidden="true" class="octicon octicon-link"></span></a>Change the entire layout</h3>
<p>Try some layouts in the Layout menu. For example:</p>
<ul>
<li><code>Degree Sorted Circle Layout &gt; All nodes</code></li>
<li>
<code>Edge Weighted Spring Embedded Layout</code>. Try this with the Karate club, look for nodes 1 and 34.</li>
<li><code>Prefuse Force Directed Layout</code></li>
</ul>
<h1 id="user-content-3-performing-basic-network-analysis">
<a aria-hidden="true" class="anchor" href="#user-content-3-performing-basic-network-analysis" id="user-content-3-performing-basic-network-analysis" name="user-content-3-performing-basic-network-analysis"><span aria-hidden="true" class="octicon octicon-link"></span></a>3. Performing basic network analysis</h1>
<p>Perform network analysis as follows.</p>
<h3 id="user-content-analyze-the-network">
<a aria-hidden="true" class="anchor" href="#user-content-analyze-the-network" id="user-content-analyze-the-network" name="user-content-analyze-the-network"><span aria-hidden="true" class="octicon octicon-link"></span></a>Analyze the network</h3>
<p><ins>Select Karate club network</ins>.</p>
<ul>
<li>Select <code>Tools &gt; Analyze network</code> (consider the network is not directed). The analysis adds some attributes: network attributes (right), node and edge attributes (Table View).</li>
<li>Look at the node attributes</li>
<li>[<strong>REPORT</strong>] Indicate which are the two nodes with largest betweenness centrality</li>
<li>Change the fill color of nodes to be a <em>continuous mapping</em> of column <em>Betweenness Centrality</em>; choose the colors so that higher betweenness centrality is associated with a darker color.</li>
<li>[<strong>REPORT</strong>] Include this graph in your report</li>
</ul>
<h3 id="user-content-plot-distributions">
<a aria-hidden="true" class="anchor" href="#user-content-plot-distributions" id="user-content-plot-distributions" name="user-content-plot-distributions"><span aria-hidden="true" class="octicon octicon-link"></span></a>Plot distributions</h3>
<ul>
<li>Try hiding and showing the analysis results panel from <code>View &gt; Show results panel</code>
</li>
<li>[<strong>REPORT</strong>] Include two plots with degree distributions from <ins>Karate Club</ins> and <ins>Star Wars networks</ins> (button "Node Degree Distribution")</li>
<li>[<strong>REPORT</strong>] Include two plots with the distribution of shortest path lengths in <ins>Karate Club</ins> and <ins>Star Wars networks</ins> (button "Node Degree Distribution")</li>
</ul>
<p>Notice that the explanatory variables (attributes) available to plot vary depending on if the node, edge or network table is selected in Table View.</p>
<h3 id="user-content-style-the-network">
<a aria-hidden="true" class="anchor" href="#user-content-style-the-network" id="user-content-style-the-network" name="user-content-style-the-network"><span aria-hidden="true" class="octicon octicon-link"></span></a>Style the network</h3>
<p><ins>Select Star Wars network</ins>.</p>
<ul>
<li>Make the size of the node larger either for nodes with high degree or nodes with high betweenness</li>
<li>Change the width and color of edges so it depends on the "scenes" attribute of the network (number of scenes in common). More scenes should mean thicker and darker edges.</li>
<li>[<strong>REPORT</strong>] Include an image of the graph styled as indicated above</li>
</ul>
<h1 id="user-content-4-using-a-cytoscape-app-clustermaker2">
<a aria-hidden="true" class="anchor" href="#user-content-4-using-a-cytoscape-app-clustermaker2" id="user-content-4-using-a-cytoscape-app-clustermaker2" name="user-content-4-using-a-cytoscape-app-clustermaker2"><span aria-hidden="true" class="octicon octicon-link"></span></a>4. Using a Cytoscape App (ClusterMaker2)</h1>
<p>Cytoscape has "apps" that can be installed and used.</p>
<h3 id="user-content-install-clustermaker2">
<a aria-hidden="true" class="anchor" href="#user-content-install-clustermaker2" id="user-content-install-clustermaker2" name="user-content-install-clustermaker2"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install ClusterMaker2</h3>
<p>Install <a href="https://apps.cytoscape.org/apps/clustermaker2" rel="nofollow">ClusterMaker2 release</a> directly from the Cytoscape store (keep Cytoscape application open). Run the App Manager in the Apps menu, search for "cluster", and check that ClusterMaker2 has been installed.</p>
<h3 id="user-content-apply-clustermaker2-to-star-wars">
<a aria-hidden="true" class="anchor" href="#user-content-apply-clustermaker2-to-star-wars" id="user-content-apply-clustermaker2-to-star-wars" name="user-content-apply-clustermaker2-to-star-wars"><span aria-hidden="true" class="octicon octicon-link"></span></a>Apply ClusterMaker2 to Star Wars</h3>
<p><ins>Select Star Wars network</ins>.</p>
<ul>
<li>In the Apps menu, look for and select the <a href="https://en.wikipedia.org/wiki/Affinity_propagation" rel="nofollow">Affinity Propagation cluster</a> clustering algorithm in ClusterMaker (select any temporary folder if prompted)</li>
<li>ClusterMaker2 requires an attribute for the weight: use <code>Array source = scenes</code>
</li>
<li>Run it; then, check that a new attribute in the node table named <code>_APCluster</code> has been added</li>
<li>Use the new attribute in the nodes for "Fill color" using a "Discrete mapping" on <code>_APCluster.</code> You might have to pick the color for each group; just pick a color for the three largest groups.</li>
<li>[<strong>REPORT</strong>] Include in your report an image of the graph with the three largest clusters in three different colors.</li>
<li>[<strong>REPORT</strong>] Include a brief commentary on what do you see in these clusters, what do you think they represent and why.</li>
</ul>
<h3 id="user-content-apply-clustermaker2-to-karate-club">
<a aria-hidden="true" class="anchor" href="#user-content-apply-clustermaker2-to-karate-club" id="user-content-apply-clustermaker2-to-karate-club" name="user-content-apply-clustermaker2-to-karate-club"><span aria-hidden="true" class="octicon octicon-link"></span></a>Apply ClusterMaker2 to Karate Club</h3>
<p><ins>Select Karate club network</ins>.</p>
<ul>
<li>Run the affinity propagation algorithm in ClusterMaker2.</li>
<li>Use "Edge betweenness" as the attribute for the weight (<code>Array source</code>). You must have run the network analyzer first so you can have "Edge betweenness" as an attribute in edges</li>
<li>Run the module; then, you should get two groups led by #1 and #34. Are they close to the actual way in which this club splitted?</li>
<li>[<strong>REPORT</strong>] Include in your report an image of the graph with nodes painted according to clusters.</li>
<li>[<strong>REPORT</strong>] Include a brief commentary on what do you see in these clusters, and whether they have some relationship with the way in which the Karate Club actually splitted</li>
</ul>
<h1 id="user-content-deliver-individually">
<a aria-hidden="true" class="anchor" href="#user-content-deliver-individually" id="user-content-deliver-individually" name="user-content-deliver-individually"><span aria-hidden="true" class="octicon octicon-link"></span></a>DELIVER (INDIVIDUALLY)</h1>
<p>⚠️ First of all, read "<a href="../upf/upf-evaluation.md">delivering your report</a>" on the evaluation guidelines, and check your report against those guidelines before submitting.</p>
<p>Deliver a brief report of at most 4 pages (it can be less!), in PDF format. Organize your report as follows:</p>
<ul>
<li>The first section should briefly describe the three networks, including the number of nodes and edges in each one; you can make a table with this.</li>
<li>Then, you should have one section about the <em>Karate Club</em>, one section about <em>Star Wars</em>, and one brief section about the <em>US Companies</em> network; include in each section the elements marked [<strong>REPORT</strong>] above.</li>
</ul>
<p><strong>Please be brief,</strong> you do not need to write too much, specially if you are not going to say anything substantive: your report can be less than four pages. A "brief commentary" means one or two paragraphs.</p>
<p>Your report should end with the following text:</p>
<p><strong>I hereby declare that all of the text, tables, and figures in this report were produced by myself.</strong></p>
</article>
</div>
</div>
</div>
</div>
</div>
</div>
